{"version":3,"sources":["utils.js","WebAPI.js","context.js","pages/LoginPage/LoginPage.js","pages/RegisterPage/RegisterPage.js","pages/HomePage/HomePage.js","pages/ArchivePage/ArchivePage.js","pages/AboutPage/AboutPage.js","pages/Post/PostPage.js","pages/NewPost/NewPost.js","components/Header/Header.js","components/App/App.js","index.js"],"names":["TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","BASE_URL","getPosts","page","fetch","then","res","getMe","headers","authorization","json","AuthContext","createContext","Root","styled","div","Field","Input","input","Button","button","Error","LoginPage","setUser","useContext","useState","username","setUsername","password","setPassword","errMessage","setErrMessage","history","useHistory","onSubmit","e","method","body","JSON","stringify","login","data","ok","message","toString","push","value","onChange","target","type","includes","RegisterPage","nickname","setNickname","register","PostContainer","PostTop","PostTitle","Link","PostContent","PostDate","Post","post","to","id","title","Date","createdAt","toLocaleString","slice","HomePage","posts","setPosts","useEffect","map","Pagination","PageBtnGroup","FirstPage","props","$active","PreviousPage","NextPage","LastPage","ArchivePage","lastPage","useRef","useParams","Number","totalPage","Math","ceil","get","current","Title","h2","UpdateDate","Content","AboutPage","PostPage","setPost","getSinglePost","textarea","setTitle","content","setContent","addPost","HeaderContainer","Brand","h1","NavbarList","Nav","NavLogout","HeaderLeftContainer","Header","location","useLocation","user","pathname","onClick","ScrollToTop","withRouter","window","scrollTo","children","App","Provider","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.75bf13b5.chunk.js","sourcesContent":["const TOKEN_NAME = \"token\";\n\nexport const setAuthToken = (token) => {\n  localStorage.setItem(TOKEN_NAME, token);\n};\n\nexport const getAuthToken = () => {\n  return localStorage.getItem(TOKEN_NAME);\n};\n","import { getAuthToken } from \"./utils\";\n\nconst BASE_URL = \"https://student-json-api.lidemy.me\";\n\nexport const getPosts = (page) => {\n  return fetch(\n    `${BASE_URL}/posts?_sort=createdAt&_order=desc&_page=${\n      page ? page : 1\n    }&_limit=5`\n  ).then((res) => res);\n};\n\nexport const getSinglePost = (id) => {\n  return fetch(`${BASE_URL}/posts/${id}`).then((res) => res.json());\n};\n\nexport const addPost = (title, body) => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts`, {\n    method: \"POST\",\n    headers: {\n      authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      title,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const register = (nickname, username, password) => {\n  return fetch(`${BASE_URL}/register`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      nickname,\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const login = (username, password) => {\n  return fetch(`${BASE_URL}/login`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const getMe = () => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/me`, {\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  }).then((res) => res.json());\n};\n","import { createContext } from \"react\";\n\nexport const AuthContext = createContext(null);\n","import styled from \"styled-components\";\nimport { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { login, getMe } from \"../../WebAPI\";\nimport { setAuthToken } from \"../../utils\";\nimport { AuthContext } from \"../../context\";\n\nconst Root = styled.div`\n  width: 700px;\n  margin: 0 auto;\n  text-align: center;\n`;\n\nconst Field = styled.div`\n  margin-top: 16px;\n`;\n\nconst Input = styled.input`\n  width: 200px;\n  padding: 8px;\n  font-size: 14px;\n`;\n\nconst Button = styled.button`\n  cursor: pointer;\n  width: 80px;\n  height: 40px;\n  border: 1px solid grey;\n  margin-top: 20px;\n`;\n\nconst Error = styled.div`\n  margin-top: 16px;\n  color: red;\n`;\n\nexport default function LoginPage() {\n  const { setUser } = useContext(AuthContext);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errMessage, setErrMessage] = useState(\"\");\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    setErrMessage(null);\n    login(username, password).then((data) => {\n      if (data.ok === 0) {\n        return setErrMessage(data.message);\n      }\n      setAuthToken(data.token);\n      getMe().then((res) => {\n        if (res.ok !== 1) {\n          setAuthToken(null);\n          return setErrMessage(res.toString());\n        }\n        setUser(res.data);\n        history.push(\"/\");\n      });\n    });\n  };\n\n  return (\n    <Root>\n      <form onSubmit={handleSubmit}>\n        <Field>\n          USERNAME:{\" \"}\n          <Input\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n        </Field>\n        <Field>\n          PASSWORD:{\" \"}\n          <Input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </Field>\n        <Button type=\"submit\">登入</Button>\n        {errMessage && (\n          <Error>\n            {errMessage.includes(\"required\")\n              ? \"請填入所有欄位\"\n              : errMessage.includes(\"invalid\")\n              ? \"帳號或密碼錯誤\"\n              : errMessage}\n          </Error>\n        )}\n      </form>\n    </Root>\n  );\n}\n","import styled from \"styled-components\";\nimport { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { register, getMe } from \"../../WebAPI\";\nimport { setAuthToken } from \"../../utils\";\nimport { AuthContext } from \"../../context\";\n\nconst Root = styled.div`\n  width: 700px;\n  margin: 0 auto;\n  text-align: center;\n`;\n\nconst Field = styled.div`\n  margin-top: 16px;\n`;\n\nconst Input = styled.input`\n  width: 200px;\n  padding: 8px;\n  font-size: 14px;\n`;\n\nconst Button = styled.button`\n  cursor: pointer;\n  width: 80px;\n  height: 40px;\n  border: 1px solid grey;\n  margin-top: 20px;\n`;\n\nconst Error = styled.div`\n  margin-top: 16px;\n  color: red;\n`;\n\nexport default function RegisterPage() {\n  const { setUser } = useContext(AuthContext);\n  const [nickname, setNickname] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errMessage, setErrMessage] = useState(\"\");\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    setErrMessage(null);\n    register(nickname, username, password).then((data) => {\n      if (data.ok === 0) {\n        return setErrMessage(data.message);\n      }\n      setAuthToken(data.token);\n      getMe().then((res) => {\n        if (res.ok !== 1) {\n          setAuthToken(null);\n          return setErrMessage(res.toString());\n        }\n        setUser(res.data);\n        history.push(\"/\");\n      });\n    });\n  };\n\n  return (\n    <Root>\n      <form onSubmit={handleSubmit}>\n        <Field>\n          NICKNAME:{\" \"}\n          <Input\n            value={nickname}\n            onChange={(e) => setNickname(e.target.value)}\n          />\n        </Field>\n        <Field>\n          USERNAME:{\" \"}\n          <Input\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n        </Field>\n        <Field>\n          PASSWORD:{\" \"}\n          <Input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </Field>\n        <Button type=\"submit\">註冊</Button>\n        {errMessage && (\n          <Error>\n            {errMessage.includes(\"required\")\n              ? \"請填入所有欄位\"\n              : errMessage.includes(\"exists\")\n              ? \"此帳號已存在\"\n              : errMessage}\n          </Error>\n        )}\n      </form>\n    </Root>\n  );\n}\n","import styled from \"styled-components\";\nimport { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\nimport { getPosts } from \"../../WebAPI\";\n\nconst Root = styled.div`\n  width: 700px;\n  margin: 0 auto;\n  padding: 30px 0;\n`;\n\nconst PostContainer = styled.div`\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  padding: 15px;\n  margin-top: 14px;\n`;\n\nconst PostTop = styled.div`\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n`;\nconst PostTitle = styled(Link)`\n  font-size: 22px;\n  color: #333;\n  text-decoration: none;\n  flex: 1;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`;\n\nconst PostContent = styled.div`\n  width: 100%;\n  padding: 15px 0;\n  font-size: 14px;\n  color: #5f5f5f;\n  word-break: break-all;\n`;\n\nconst PostDate = styled.div`\n  color: rgba(0, 0, 0, 0.8);\n  font-size: 14px;\n  margin-left: 16px;\n`;\n\nfunction Post({ post }) {\n  return (\n    <PostContainer>\n      <PostTop>\n        <PostTitle to={`/posts/${post.id}`}>{post.title}</PostTitle>\n        <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\n      </PostTop>\n      <PostContent>{post.body.slice(0, 300)}</PostContent>\n    </PostContainer>\n  );\n}\n\nPost.propTypes = {\n  post: PropTypes.object,\n};\n\nexport default function HomePage() {\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    getPosts(1)\n      .then((res) => res.json())\n      .then((posts) => setPosts(posts));\n  }, []);\n\n  return (\n    <Root>\n      <h1>最新文章</h1>\n      {posts.map((post) => (\n        <Post key={post.id} post={post} />\n      ))}\n    </Root>\n  );\n}\n","import styled from \"styled-components\";\nimport { useState, useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { getPosts } from \"../../WebAPI\";\n\nconst Root = styled.div`\n  width: 700px;\n  margin: 0 auto;\n  padding: 30px 0;\n`;\n\nconst PostContainer = styled.div`\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  padding: 15px;\n  margin-top: 14px;\n  height: 180px;\n`;\n\nconst PostTop = styled.div`\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n`;\nconst PostTitle = styled(Link)`\n  font-size: 22px;\n  color: #333;\n  text-decoration: none;\n  flex: 1;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`;\n\nconst PostContent = styled.div`\n  width: 100%;\n  padding: 15px 0;\n  font-size: 14px;\n  color: #5f5f5f;\n  word-break: break-all;\n`;\n\nconst PostDate = styled.div`\n  color: rgba(0, 0, 0, 0.8);\n  font-size: 14px;\n  margin-left: 16px;\n`;\n\nconst Pagination = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 24px;\n`;\n\nconst PageBtnGroup = styled.div`\n  display: flex;\n  width: 120px;\n`;\n\nconst FirstPage = styled(Link)`\n  display: none;\n  text-decoration: none;\n  color: #3c3c3c;\n  font-size: 14px;\n\n  ${(props) =>\n    props.$active &&\n    `\n      display: flex;\n    `}\n`;\nconst PreviousPage = styled(Link)`\n  display: none;\n  text-decoration: none;\n  color: #3c3c3c;\n  margin-left: 16px;\n  font-size: 14px;\n\n  ${(props) =>\n    props.$active &&\n    `\n      display: flex;\n    `}\n`;\nconst NextPage = styled(Link)`\n  display: none;\n  text-decoration: none;\n  margin-left: 16px;\n  color: #3c3c3c;\n  font-size: 14px;\n\n  ${(props) =>\n    props.$active &&\n    `\n      display: flex;\n    `}\n`;\nconst LastPage = styled(Link)`\n  display: none;\n  text-decoration: none;\n  margin-left: 16px;\n  color: #3c3c3c;\n  font-size: 14px;\n\n  ${(props) =>\n    props.$active &&\n    `\n      display: flex;\n    `}\n`;\n\nfunction Post({ post }) {\n  return (\n    <PostContainer>\n      <PostTop>\n        <PostTitle to={`/posts/${post.id}`}>{post.title}</PostTitle>\n        <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\n      </PostTop>\n      <PostContent>{post.body.slice(0, 200)}</PostContent>\n    </PostContainer>\n  );\n}\n\nPost.propTypes = {\n  post: PropTypes.object,\n};\n\nexport default function ArchivePage() {\n  const [posts, setPosts] = useState([]);\n  const lastPage = useRef();\n  let { page } = useParams();\n  page = !page ? 1 : Number(page);\n\n  useEffect(() => {\n    getPosts(page)\n      .then((res) => {\n        const totalPage = Math.ceil(res.headers.get(\"x-total-count\") / 5);\n        lastPage.current = totalPage;\n        return res.json();\n      })\n      .then((posts) => setPosts(posts));\n  }, [page]);\n\n  return (\n    <Root>\n      {posts.map((post) => (\n        <Post key={post.id} post={post} />\n      ))}\n      <Pagination>\n        <PageBtnGroup>\n          <FirstPage to={`/archives/1`} $active={page !== 1}>\n            第一頁\n          </FirstPage>\n          <PreviousPage to={`/archives/${page - 1}`} $active={page - 1 > 0}>\n            上一頁\n          </PreviousPage>\n        </PageBtnGroup>\n        <div>\n          第 {page} 頁 / 共 {lastPage.current} 頁\n        </div>\n        <PageBtnGroup>\n          <NextPage\n            to={`/archives/${page + 1}`}\n            $active={page + 1 <= lastPage.current}\n          >\n            下一頁\n          </NextPage>\n          <LastPage\n            to={`/archives/${lastPage.current}`}\n            $active={page !== lastPage.current}\n          >\n            最末頁\n          </LastPage>\n        </PageBtnGroup>\n      </Pagination>\n    </Root>\n  );\n}\n","import styled from \"styled-components\";\n\nconst Root = styled.div`\n  width: 700px;\n  margin: 0 auto;\n  padding: 30px;\n`;\n\nconst Title = styled.h2``;\nconst UpdateDate = styled.div`\n  font-size: 16px;\n  margin: 16px 0;\n  color: grey;\n`;\n\nconst Content = styled.div`\n  white-space: pre-wrap;\n`;\n\nexport default function AboutPage() {\n  return (\n    <Root>\n      <Title>關於我</Title>\n      <UpdateDate>2021年5月25日</UpdateDate>\n      <Content>\n        {`\n（這裡借用 Huli 部落格的關於我來用～XD）\n\n原本是個前端工程師，2021 年 5 月開始默默轉做資安相關的研究，還很菜。\n\n重度拖延症患者，興趣是光想不做，有很多想做的事，卻一件都沒有執行。無聊的時候喜歡寫寫文章，發現自己好像有把事情講得比其他人清楚的能力，相信分享與交流可以讓世界更美好。\n\n喜歡把常見問題寫成文章，就不用每次被問就回答一次，就跟寫 code的時候要順便記得重構一樣。\n\n如果你對我怎麼學程式以及相關背景有興趣，可以閱讀：\n\n1. 自學、哲學、講學：我的程式之路\n\n如果你好奇我為什麼寫文章，每寫一篇都花多久，可以閱讀：\n\n1. 廢文工作者的養成\n2. 我為什麼寫部落格，以及部落格帶給我的影響\n3. 我是如何完成一篇文章的？\n\n如果你想知道我對學習方面的看法，可以參考：\n\n1. 致跟我一樣的拖延症患者：動力是需要刻意創造的\n2. 當我們在學程式時，要學的到底是什麼？\n3. 程式相關問題一網打盡：談自學、轉職、出國、職涯、教學、補習、騙錢、產業以及努力\n4. 用對你有效的學習方法，無論那是什麼\n5. 打造「正確」學習 mindset\n\n如果你對我的工作經歷有興趣，可以看看：\n\n1. 一個工程師的履歷進化史\n2. 成為前端工程師的四週年回顧\n3. Linkedin\n\n如果你想知道我的教學理念跟課程，可以參考：\n\n1. 華麗謝幕：程式導師實驗計畫第三期成果以及未來走向\n2. 大改版：程式導師實驗計畫第三期報名簡章\n3. Lidemy 新課程上架以及課程說明\n4. 四個月過去了，來找我學程式的學生們怎麼樣了？\n5. Lidemy 鋰學院\n\n想看更多相關文章可以參考我的 Medium 文章列表，想聯絡我的話可以透過 Email：aszx87410@gmail.com，網頁右上角也可以找到我的推特及臉書。\n`}\n\n        <h3>關於部落格</h3>\n        {`\n經歷過無數次的搬家之後，決定在這邊定居，因為終於找到了一個喜歡的佈景主題。希望不要再搬了。\n\n此部落格採用 Hexo + Minos theme + GitHub Pages 架設而成。有改過 Minos 裡面的一些東西，例如說字體大小、文章列表以及分類頁面等等，改過的版本在這邊：aszx87410/hexo-theme-minos。\n\n這邊是跟技術比較相關的文章，其他文章會放在我的 Medium，哪天如果 Medium 不幸倒掉，會把文章都搬過來這邊。\n\n雖然說前面有提到「搬家」，但其實沒有把所有文章都搬過來，有稍微篩選過一下，舊的文章都還留在Logdown，因為早期的文章偏筆記類型，所以就沒有搬過來了。\n`}\n      </Content>\n    </Root>\n  );\n}\n","import styled from \"styled-components\";\nimport { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getSinglePost } from \"../../WebAPI\";\n\nconst Root = styled.div`\n  width: 700px;\n  margin: 0 auto;\n`;\n\nconst PostContainer = styled.div`\n  border-radius: 5px;\n  padding: 15px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: space-between;\n`;\nconst PostTitle = styled.div`\n  margin: 16px 0;\n  font-size: 24px;\n  color: #333;\n`;\n\nconst PostDate = styled.div`\n  text-align: right;\n  width: 100%;\n  color: rgba(0, 0, 0, 0.8);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3);\n`;\n\nconst PostContent = styled.div`\n  padding: 30px;\n  line-height: 1.5rem;\n  color: #5f5f5f;\n`;\n\nexport default function PostPage() {\n  const [post, setPost] = useState([]);\n  const { id } = useParams();\n  useEffect(() => {\n    getSinglePost(id).then((post) => setPost(post));\n  }, [id]);\n\n  return (\n    <Root>\n      {post && (\n        <PostContainer>\n          <PostTitle>{post.title}</PostTitle>\n          <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\n          <PostContent>{post.body}</PostContent>\n        </PostContainer>\n      )}\n    </Root>\n  );\n}\n","import styled from \"styled-components\";\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { addPost } from \"../../WebAPI\";\n\nconst Root = styled.div`\n  width: 700px;\n  margin: 0 auto;\n  text-align: center;\n`;\n\nconst PostContainer = styled.div`\n  width: 500px;\n  margin: 0 auto;\n  padding: 15px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n`;\nconst PostTitle = styled.input`\n  width: 100%;\n  font-size: 16px;\n  padding: 10px;\n  color: #333;\n  margin-bottom: 24px;\n  margin-top: 14px;\n`;\n\nconst PostContent = styled.textarea`\n  height: 500px;\n  width: 100%;\n  margin-bottom: 24px;\n  margin-top: 14px;\n  padding: 10px;\n  white-space: ;\n`;\n\nconst Button = styled.button`\n  width: 80px;\n  height: 40px;\n  background: grey;\n  color: white;\n  border: none;\n  text-align: center;\n  cursor: pointer;\n`;\n\nconst Error = styled.div`\n  color: red;\n`;\n\nexport default function PostPage() {\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [errMessage, setErrMessage] = useState(null);\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    setErrMessage(null);\n    addPost(title, content).then((data) => {\n      if (data.ok === 0) {\n        return setErrMessage(data.message);\n      }\n      history.push(\"/\");\n    });\n  };\n\n  return (\n    <Root>\n      <form onSubmit={handleSubmit}>\n        {errMessage && (\n          <Error>\n            {errMessage.includes(\"title\")\n              ? \"請輸入標題\"\n              : errMessage.includes(\"body\")\n              ? \"請輸入文章內容\"\n              : errMessage}\n          </Error>\n        )}\n        <PostContainer>\n          標題\n          <PostTitle\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n          ></PostTitle>\n          內容\n          <PostContent\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n          ></PostContent>\n          <Button type=\"submit\">送出</Button>\n        </PostContainer>\n      </form>\n    </Root>\n  );\n}\n","import styled from \"styled-components\";\nimport { useContext } from \"react\";\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../context\";\nimport { setAuthToken } from \"../../utils\";\n\nconst HeaderContainer = styled.div`\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3);\n  padding: 0 32px;\n  background: white;\n`;\n\nconst Brand = styled.h1`\n  margin: 0;\n`;\nconst NavbarList = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst Nav = styled(Link)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 64px;\n  width: 100px;\n  cursor: pointer;\n  text-decoration: none;\n  color: black;\n\n  ${(props) =>\n    props.$active &&\n    `\n    background: rgba(0, 0, 0, 0.1);\n  `}\n`;\n\nconst NavLogout = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 64px;\n  width: 100px;\n  cursor: pointer;\n`;\n\nconst HeaderLeftContainer = styled.div`\n  display: flex;\n  align-items: center;\n\n  ${NavbarList} {\n    margin-left: 32px;\n  }\n`;\n\nexport default function Header() {\n  const location = useLocation();\n  const history = useHistory();\n  const { user, setUser } = useContext(AuthContext);\n\n  const handleLogout = () => {\n    setAuthToken(\"\");\n    setUser(null);\n    if (location.pathname !== \"/\") {\n      history.push(\"/\");\n    }\n  };\n\n  return (\n    <HeaderContainer>\n      <HeaderLeftContainer>\n        <Brand>My Blog</Brand>\n        <NavbarList>\n          <Nav to=\"/\" $active={location.pathname === \"/\"}>\n            首頁\n          </Nav>\n          <Nav\n            to=\"/archives/1\"\n            $active={location.pathname.includes(\"archives\")}\n          >\n            文章列表\n          </Nav>\n          <Nav to=\"/about\" $active={location.pathname === \"/about\"}>\n            關於我\n          </Nav>\n        </NavbarList>\n      </HeaderLeftContainer>\n      <NavbarList>\n        {!user && (\n          <>\n            <Nav to=\"/login\" $active={location.pathname === \"/login\"}>\n              登入\n            </Nav>\n            <Nav to=\"/register\" $active={location.pathname === \"/register\"}>\n              註冊\n            </Nav>\n          </>\n        )}\n        {user && (\n          <>\n            <Nav to=\"/new-post\" $active={location.pathname === \"/new-post\"}>\n              發布文章\n            </Nav>\n            <NavLogout onClick={handleLogout}>登出</NavLogout>\n          </>\n        )}\n      </NavbarList>\n    </HeaderContainer>\n  );\n}\n","import styled from \"styled-components\";\nimport { useState, useEffect } from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  withRouter,\n  useLocation,\n} from \"react-router-dom\";\nimport LoginPage from \"../../pages/LoginPage\";\nimport RegisterPage from \"../../pages/RegisterPage\";\nimport HomePage from \"../../pages/HomePage\";\nimport ArchivePage from \"../../pages/ArchivePage\";\nimport AboutPage from \"../../pages/AboutPage\";\nimport PostPage from \"../../pages/Post\";\nimport NewPost from \"../../pages/NewPost\";\nimport Header from \"../Header\";\nimport { AuthContext } from \"../../context\";\nimport { getMe } from \"../../WebAPI\";\nimport { getAuthToken } from \"../../utils\";\n\nconst Root = styled.div`\n  padding-top: 64px;\n`;\n\nfunction _ScrollToTop(props) {\n  const { pathname } = useLocation();\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n  return props.children;\n}\nconst ScrollToTop = withRouter(_ScrollToTop);\n\nexport default function App() {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    if (getAuthToken()) {\n      getMe().then((res) => {\n        if (res.ok) {\n          setUser(res.data);\n        }\n      });\n    }\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ user, setUser }}>\n      <Root>\n        <Router>\n          <ScrollToTop>\n            <Header />\n            <Switch>\n              <Route exact path=\"/\">\n                <HomePage />\n              </Route>\n              <Route exact path=\"/archives/:page\">\n                <ArchivePage />\n              </Route>\n              <Route exact path=\"/about\">\n                <AboutPage />\n              </Route>\n              <Route exact path=\"/login\">\n                <LoginPage />\n              </Route>\n              <Route exact path=\"/register\">\n                <RegisterPage />\n              </Route>\n              <Route exact path=\"/posts/:id\">\n                <PostPage />\n              </Route>\n              <Route exact path=\"/new-post\">\n                <NewPost />\n              </Route>\n            </Switch>\n          </ScrollToTop>\n        </Router>\n      </Root>\n    </AuthContext.Provider>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}